---
title: "hud init"
description: "Create a new HUD environment with minimal boilerplate"
icon: "sparkles"
---

The `hud init` command creates a new HUD environment from scratch with all the essential files needed to build, test, and deploy an MCP server.

## Usage

```bash
hud init [NAME] [OPTIONS]
```

## Arguments

<ParamField path="name" type="string">
  Environment name. If not provided, uses the current directory name.
</ParamField>

## Options

<ParamField path="--dir" type="string" default=".">
  Target directory where the environment will be created. Short: `-d`
</ParamField>

<ParamField path="--force" type="boolean" default="false">
  Overwrite existing files if they exist. Short: `-f`
</ParamField>

## What It Creates

The command generates a minimal but complete HUD environment structure:

```
my-env/
├── Dockerfile              # Container configuration
├── pyproject.toml          # Dependencies and metadata
├── README.md              # Basic documentation
└── src/
    └── hud_controller/
        ├── context.py     # Persistent state management
        └── server.py      # MCP server implementation
```

### Generated Files

<Tabs>
<Tab title="server.py">
Minimal MCP server with required tools:

```python
from hud.server import MCPServer
from hud.server.context import attach_context

mcp = MCPServer(name="my-env")
ctx = None

@mcp.initialize
async def init(init_ctx):
    global ctx
    ctx = attach_context("/tmp/hud_ctx.sock")

@mcp.tool()
async def act() -> str:
    """Perform an action."""
    return f"Action #{ctx.act()}"

@mcp.tool()
async def setup() -> str:
    """Required for HUD environments."""
    return "Ready"

@mcp.tool()
async def evaluate() -> dict:
    """Required for HUD environments."""
    return {"count": ctx.get_count()}

if __name__ == "__main__":
    mcp.run()
```
</Tab>

<Tab title="context.py">
Persistent state that survives hot-reloads:

```python
from hud.server.context import run_context_server
import asyncio

class Context:
    def __init__(self):
        self.count = 0

    def act(self):
        self.count += 1
        return self.count

    def get_count(self):
        return self.count

if __name__ == "__main__":
    asyncio.run(run_context_server(Context()))
```
</Tab>

<Tab title="Dockerfile">
Production-ready container setup:

```dockerfile
FROM python:3.10-slim
RUN pip install uv
WORKDIR /app
COPY pyproject.toml .
RUN uv pip install --system -e .
COPY src/ src/
CMD ["python", "-m", "hud_controller.server"]
```
</Tab>

<Tab title="pyproject.toml">
Project configuration with HUD metadata:

```toml
[project]
name = "my-env"
version = "0.1.0"
dependencies = ["hud[sdk]"]

[tool.hud]
image = "hud-my-env:dev"
```
</Tab>
</Tabs>

## Examples

### Basic Usage

Create an environment in a new directory:

```bash
hud init my-env
cd my-env
```

### Current Directory

Initialize in the current directory using its name:

```bash
mkdir awesome-tool && cd awesome-tool
hud init
```

### Custom Location

Create in a specific directory:

```bash
hud init my-env --dir ~/projects
cd ~/projects/my-env
```

### Overwrite Existing

Force overwrite existing files:

```bash
hud init my-env --force
```

## Next Steps

After creating your environment:

<Steps>
<Step title="Start Development">
Run with hot-reload and interactive testing:
```bash
hud dev . --interactive
```
</Step>

<Step title="Add Your Logic">
Edit `src/hud_controller/server.py` to add custom tools:
```python
@mcp.tool()
async def my_custom_tool(text: str) -> str:
    """Process some text."""
    return text.upper()
```
</Step>

<Step title="Test Your Tools">
In interactive mode, use arrow keys to select and test tools
</Step>

<Step title="Build for Production">
When ready, build and share:
```bash
hud build
hud push
```
</Step>
</Steps>

## Key Concepts

### Required Tools

Every HUD environment must implement:
- `setup()` - Initialize the environment
- `evaluate()` - Return environment state for evaluation

### Context Pattern

The context pattern separates state from server logic:
- State persists across hot-reloads
- Server reconnects to existing context
- Enables rapid development iteration

### Minimal Dependencies

The template uses only essential dependencies:
- `hud[sdk]` - Core HUD functionality
- No unnecessary packages
- Production-ready from the start

## Tips

<Tip>
The generated environment is immediately runnable with `hud dev`. No additional setup required!
</Tip>

<Note>
Environment names are converted to valid Docker image names automatically (underscores → hyphens).
</Note>

<Warning>
Use `--force` carefully as it will overwrite existing files without confirmation.
</Warning>

## See Also

- [hud dev](/reference/cli/dev) - Start development with hot-reload
- [hud build](/reference/cli/build) - Build production images
- [Build Environments Guide](/build-environments) - Complete environment development guide
