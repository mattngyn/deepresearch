---
title: "hud analyze"
description: "Inspect MCP environments quickly from metadata or live containers"
icon: "magnifying-glass"
---

The `hud analyze` command inspects MCP environments to discover their tools and capabilities. By default, it uses cached metadata for instant results. Use `--live` for real-time analysis.

## Usage

```bash
hud analyze <TARGET> [OPTIONS]
```

## Arguments

<ParamField path="target" type="string" required>
  Docker image, lock file path, or command to analyze
</ParamField>

## Options

<ParamField path="--format" type="string" default="interactive">
  Output format: `interactive`, `json`, or `markdown`. Short: `-f`
</ParamField>

<ParamField path="--verbose" type="boolean" default="false">
  Show full tool schemas and parameters. Short: `-v`
</ParamField>

<ParamField path="--live" type="boolean" default="false">
  Run container for live analysis (slower but more accurate)
</ParamField>

<ParamField path="--config" type="string">
  JSON config file with MCP configuration. Short: `-c`
</ParamField>

<ParamField path="--cursor" type="string">
  Analyze a server from Cursor config
</ParamField>

<ParamField path="--command" type="string">
  Analyze a local command instead of Docker image
</ParamField>

<ParamField path="--timeout" type="integer" default="30">
  Timeout in seconds for live analysis
</ParamField>

## Analysis Modes

### Fast Mode (Default)

Uses cached metadata from:
1. Local lock file cache (`~/.hud/locks/`)
2. HUD registry (if available)
3. Basic Docker manifest info

```bash
# Instant results from metadata
hud analyze hudpython/text-analyzer:latest

# From lock file
hud analyze ./my-env.lock.yaml
```

<Note>
Fast mode is perfect for quick inspection and doesn't require running containers.
</Note>

### Live Mode

Runs the actual container for comprehensive analysis:

```bash
# Full analysis with running container
hud analyze hudpython/text-analyzer:latest --live

# With environment variables
hud analyze my-env:latest --live -e API_KEY=test
```

<Tip>
Use `--live` when you need:
- Real-time tool validation
- Resource discovery
- Telemetry information
- Testing with specific env vars
</Tip>

## Output Formats

### Interactive (Default)

Fast mode output:
```
üìä Environment Overview
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Image       ‚îÇ hudpython/text-2048     ‚îÇ
‚îÇ Source      ‚îÇ HUD Registry            ‚îÇ
‚îÇ Built       ‚îÇ 2024-01-15T10:30:00Z    ‚îÇ
‚îÇ HUD Version ‚îÇ 0.1.0                   ‚îÇ
‚îÇ Init Time   ‚îÇ 450 ms                  ‚îÇ
‚îÇ Tools       ‚îÇ 6                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

üîß Available Tools
‚îî‚îÄ‚îÄ Tools
    ‚îú‚îÄ‚îÄ setup - Initialize environment
    ‚îú‚îÄ‚îÄ evaluate - Return environment state
    ‚îú‚îÄ‚îÄ move - Move tiles in direction
    ‚îú‚îÄ‚îÄ reset_board - Reset game to start
    ‚îî‚îÄ‚îÄ get_score - Get current score
```

Live mode output (`--live`):
```
üîç Analyzing MCP environment: hudpython/text-2048:latest

üìä Environment Overview
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Server      ‚îÇ hud-text-2048           ‚îÇ
‚îÇ Initialized ‚îÇ ‚úì                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

üîß Available Tools
‚îú‚îÄ‚îÄ Regular Tools
‚îÇ   ‚îú‚îÄ‚îÄ move
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Move tiles in the specified direction
‚îÇ   ‚îú‚îÄ‚îÄ reset_board
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Reset the game board to initial state
‚îÇ   ‚îî‚îÄ‚îÄ get_score
‚îÇ       ‚îî‚îÄ‚îÄ Get the current game score
‚îî‚îÄ‚îÄ Hub Tools
    ‚îî‚îÄ‚îÄ game_hub
        ‚îú‚îÄ‚îÄ save_state
        ‚îî‚îÄ‚îÄ load_state

üìö Available Resources
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ URI              ‚îÇ Name           ‚îÇ Type        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ game://state     ‚îÇ Game State     ‚îÇ application ‚îÇ
‚îÇ game://history   ‚îÇ Move History   ‚îÇ text/plain  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

üì° Telemetry Data
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Live URL‚îÇ https://app.hud.so/xyz123   ‚îÇ
‚îÇ Status  ‚îÇ running                     ‚îÇ
‚îÇ Services‚îÇ 2/2 running                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### JSON Format

```bash
# Fast mode
hud analyze my-env --format json

{
  "image": "my-env:latest",
  "status": "from_cache",
  "tool_count": 6,
  "init_time": 450,
  "tools": [{
    "name": "setup",
    "description": "Initialize environment"
  }]
}

# Live mode
hud analyze my-env --format json --live

{
  "metadata": {
    "servers": ["my-env"],
    "initialized": true
  },
  "tools": [{
    "name": "setup",
    "description": "Initialize environment",
    "input_schema": {...}
  }],
  "hub_tools": {...},
  "resources": [...],
  "telemetry": {...}
}
```

### Markdown Format

```bash
hud analyze my-env --format markdown > docs/tools.md
```

Generates formatted documentation with tool descriptions and schemas.

## Examples

### Fast Analysis (Default)

```bash
# Quick inspection from metadata
hud analyze hudpython/text-analyzer:latest

# Analyze multiple environments rapidly
for env in browser scraper analyzer; do
  hud analyze "hudpython/$env:latest"
done

# From lock file
hud analyze ./environments/prod.lock.yaml

# With verbose schemas
hud analyze my-env:latest --verbose
```

### Live Analysis

```bash
# Full container analysis
hud analyze my-env:latest --live

# With environment variables
hud analyze my-env:latest --live -e API_KEY=test -e DEBUG=true

# Custom timeout for slow environments
hud analyze heavy-env:latest --live --timeout 60
```

### Local Development

```bash
# Analyze local command
hud analyze --command "python my_server.py" --live

# Cursor integration
hud analyze --cursor my-dev-server --live

# With config file
hud analyze my-env:latest --config mcp-config.json
```

### Documentation Generation

```bash
# Generate tool documentation
hud analyze my-env:latest --format markdown > docs/tools.md

# Compare versions
hud analyze my-env:v1.0 --format json > v1.json
hud analyze my-env:v2.0 --format json > v2.json
diff v1.json v2.json

# Extract tool names
hud analyze my-env --format json | jq -r '.tools[].name'
```

## Performance Comparison

| Mode | Speed | Use Case |
|------|-------|----------|
| Fast (default) | < 1 second | Quick inspection, CI checks |
| Live (`--live`) | 5-30 seconds | Full validation, debugging |

<Tip>
Use fast mode for rapid iteration during development. Switch to `--live` for final validation.
</Tip>

## CI/CD Integration

### Fast CI Checks

```yaml
# GitHub Actions - Quick tool validation
- name: Verify tools exist
  run: |
    TOOLS=$(hud analyze $IMAGE --format json | jq '.tool_count')
    if [ "$TOOLS" -lt 3 ]; then
      echo "Not enough tools!"
      exit 1
    fi
```

### Python Validation Script

```python
#!/usr/bin/env python3
import subprocess
import json

def verify_environment(image, required_tools):
    """Fast validation using metadata"""
    # Quick check with metadata
    result = subprocess.run(
        ["hud", "analyze", image, "--format", "json"],
        capture_output=True, text=True, check=True
    )
    
    data = json.loads(result.stdout)
    available = {tool["name"] for tool in data["tools"]}
    missing = set(required_tools) - available
    
    if missing:
        print(f"‚ö†Ô∏è  Missing tools: {missing}")
        print("Running live analysis for details...")
        
        # Full check if needed
        subprocess.run(
            ["hud", "analyze", image, "--live"],
            check=True
        )
    return len(missing) == 0

# Usage
verify_environment("my-env:latest", ["setup", "evaluate", "process"])
```

## Troubleshooting

<AccordionGroup>
<Accordion title="No metadata found">
The environment may not have been pushed to HUD registry:
```bash
# Falls back to basic Docker info
hud analyze my-env:latest --verbose

# Force live analysis
hud analyze my-env:latest --live
```
</Accordion>

<Accordion title="Stale metadata">
If metadata seems outdated:
```bash
# Use live mode for current state
hud analyze my-env:latest --live

# Rebuild and push to update metadata
hud build && hud push
```
</Accordion>

<Accordion title="Timeout in live mode">
Some environments take longer to initialize:
```bash
# Increase timeout
hud analyze heavy-env:latest --live --timeout 120

# Check with debug first
hud debug heavy-env:latest --max-phase 1
```
</Accordion>

<Accordion title="JSON parsing errors">
Ensure clean output:
```bash
# Redirect stderr for clean JSON
hud analyze my-env --format json 2>/dev/null

# Or use jq for validation
hud analyze my-env --format json | jq .
```
</Accordion>
</AccordionGroup>

## Best Practices

1. **Default to Fast Mode**: Start with metadata for quick checks
2. **Live for Validation**: Use `--live` before production deployments
3. **Cache Lock Files**: Share lock files for consistent metadata
4. **Version Your Tools**: Track tool changes across versions
5. **Automate Checks**: Add fast analysis to CI pipelines

<Note>
Fast mode shows what tools *should* be available based on build-time analysis. Live mode shows what *actually* works right now.
</Note>

## See Also

- [`hud debug`](/reference/cli/debug) - Test tool functionality
- [`hud pull`](/reference/cli/pull) - Get environments with metadata
- [`hud build`](/reference/cli/build) - Generate fresh metadata
- [`hud run`](/reference/cli/run) - Execute environments